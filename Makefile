.DEFAULT_GOAL := help

.PHONY: help
help:
	@echo -e "Usage: \tmake [TARGET]\n"
	@echo -e "Targets:"
	@echo -e "  package-python            Creates a tar file with the required Python code"
	@echo -e "  clean-python              Remove Python autogenerated code"
	@echo -e "  package-node              Creates the Node.js package in the packages/node directory"
	@echo -e "  packages                  Create Python and Node.js packages"

.PHONY: package-python
package-python: clean-python
	@./scripts/package-python.sh

.PHONY: publish-python
publish-python:
	@./scripts/publish-python.sh

.PHONY: clean-python
clean-python:
	@rm -rf packages/python/buda/**/*pb2*.py

.PHONY: package-node
package-node:
	@./scripts/package-node.sh

.PHONY: packages
packages: package-node package-python
